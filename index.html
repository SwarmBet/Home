<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Casino - Admin Edition</title>
    <style>
        :root { --gold: #ffcc00; --felt: #1a472a; --bg: #0f0f0f; --glass: rgba(255, 255, 255, 0.1); }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: white; margin: 0; display: flex; justify-content: center; min-height: 100vh; }
        .casino-wrapper { width: 100%; max-width: 900px; background: radial-gradient(circle at center, var(--felt) 0%, #05140a 100%); margin: 20px; border-radius: 30px; border: 10px solid #2d1f16; box-shadow: 0 20px 60px rgba(0,0,0,0.8); padding: 25px; position: relative; }
        header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 20px; border-bottom: 1px solid var(--glass); }
        .balance-card { background: linear-gradient(135deg, #222, #000); padding: 15px 30px; border-radius: 20px; border: 2px solid var(--gold); font-size: 28px; font-weight: bold; color: var(--gold); }
        .btn-nav { background: var(--glass); color: white; margin: 5px; padding: 12px 20px; border-radius: 10px; cursor: pointer; border:none; font-weight:bold; }
        .btn-nav.active { background: var(--gold); color: black; }
        .btn-action { background: linear-gradient(to bottom, var(--gold), #b8860b); color: black; padding: 12px 20px; border-radius: 10px; cursor: pointer; border:none; font-weight:bold; text-transform:uppercase; margin-top: 10px;}
        .btn-action:disabled { background: #555; color: #888; cursor: not-allowed; }
        .message-area { height: 50px; display: flex; align-items: center; justify-content: center; font-size: 1.3em; font-weight: bold; color: var(--gold); }
        .hand-box { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; border: 1px solid var(--glass); text-align: center; margin-top: 10px; }
        .cards-display { display: flex; gap: 10px; justify-content: center; min-height: 120px; margin-top: 10px; }
        .card { width: 70px; height: 100px; background: white; color: black; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; box-shadow: 2px 2px 5px rgba(0,0,0,0.5); }
        .hidden { display: none !important; }

        /* Admin Panel Styl */
        .admin-panel {
            margin-top: 30px;
            padding: 15px;
            background: rgba(255,0,0,0.1);
            border-radius: 15px;
            border: 1px dashed red;
            font-size: 0.8em;
        }
    </style>
</head>
<body>

<div class="casino-wrapper">
    <header>
        <h2 style="margin:0">üé∞ GOLDEN STAKE</h2>
        <div class="balance-card">üí∞ <span id="balance">0</span></div>
    </header>

    <div class="message-area" id="msg">Z√≠skej ≈æetony od adm√≠na!</div>

    <div class="game-nav">
        <button id="nav-bj" class="btn-nav active" onclick="setGame('bj')">Blackjack</button>
        <button id="nav-roulette" class="btn-nav" onclick="setGame('roulette')">Ruleta</button>
    </div>

    <div id="bj-ui">
        <div class="hand-box">
            S√°zka: <input type="number" id="bj-bet" value="10" style="width: 60px; background: #000; color: gold; border: 1px solid gold;">
            <button class="btn-action" id="bj-start" onclick="bjStart()">Hr√°t</button>
        </div>
        <div id="bj-cards-area" class="hidden">
            <div class="hand-box">Dealer: <span id="d-val">?</span> <div id="d-cards" class="cards-display"></div></div>
            <div class="hand-box">Ty: <span id="p-val">0</span> <div id="p-cards" class="cards-display"></div></div>
            <div id="bj-actions" style="text-align:center; margin-top:10px;">
                <button class="btn-action" onclick="bjPlay('hit')">HIT</button>
                <button class="btn-action" style="background:#ddd" onclick="bjPlay('stand')">STAND</button>
            </div>
        </div>
    </div>

    <div id="roulette-ui" class="hidden">
        <div class="hand-box">
            <p>Ruleta je p≈ôipravena. Vsaƒète na barvu (2x v√Ωhra):</p>
            <button class="btn-action" onclick="rSpin('red')">ƒåerven√°</button>
            <button class="btn-action" style="background: #222; color: white;" onclick="rSpin('black')">ƒåern√°</button>
        </div>
    </div>

    <div class="admin-panel">
        <strong>üîí Admin Panel (Jen pro majitele)</strong><br>
        Heslo: <input type="password" id="admin-pass" style="background: #000; color: white; border: 1px solid #444;">
        Mno≈æstv√≠: <input type="number" id="admin-amt" value="100" style="width: 60px;">
        <button onclick="adminAddChips()">P≈òIDAT ≈ΩETONY</button>
    </div>
</div>

<script>
    // --- UKL√ÅD√ÅN√ç A DATA ---
    let chips = parseInt(localStorage.getItem('casino_chips')) || 0;
    let playing = false;

    function save() {
        localStorage.setItem('casino_chips', chips);
        document.getElementById('balance').innerText = chips;
    }

    // --- ADMIN FUNKCE ---
    function adminAddChips() {
        const pass = document.getElementById('admin-pass').value;
        const amt = parseInt(document.getElementById('admin-amt').value);
        
        if(pass === "admin123") { // Tady si zmƒõ≈à heslo
            chips += amt;
            save();
            log("Admin p≈ôidal " + amt + " ≈æeton≈Ø.");
            document.getElementById('admin-pass').value = "";
        } else {
            alert("≈†patn√© heslo!");
        }
    }

    // --- ZVUKY (Zjednodu≈°en√© pro p≈ôehlednost) ---
    const sounds = {
        card: new Audio('https://www.soundjay.com/misc/sounds/card-slap-1.mp3'),
        win: new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3')
    };
    sounds.card.volume = 0.2;

    function log(m, win = null) {
        const el = document.getElementById('msg');
        el.innerText = m;
        el.style.color = win === true ? '#76ff03' : (win === false ? '#ff5252' : '#ffcc00');
    }

    function setGame(g) {
        if(playing) return;
        document.getElementById('bj-ui').classList.toggle('hidden', g !== 'bj');
        document.getElementById('roulette-ui').classList.toggle('hidden', g !== 'roulette');
    }

    // --- BLACKJACK LOGIKA ---
    let pHand = [], dHand = [], deck = [], curBet = 0;

    function bjStart() {
        curBet = parseInt(document.getElementById('bj-bet').value);
        if(curBet > chips || curBet <= 0) return log("Nem√°≈° dost ≈æeton≈Ø!", false);
        
        chips -= curBet;
        save();
        playing = true;
        document.getElementById('bj-start').disabled = true;
        document.getElementById('bj-cards-area').classList.remove('hidden');
        
        // Bal√≠ƒçek
        deck = [];
        ['‚ô†','‚ô•','‚ô¶','‚ô£'].forEach(s => ['2','3','4','5','6','7','8','9','10','J','Q','K','A'].forEach(v => deck.push({v,s})));
        deck.sort(() => Math.random() - 0.5);

        pHand = [deck.pop(), deck.pop()];
        dHand = [deck.pop(), deck.pop()];
        renderBJ(false);
        log("Hraje≈° o " + curBet);
    }

    function renderBJ(all) {
        const p = document.getElementById('p-cards'), d = document.getElementById('d-cards');
        p.innerHTML = ''; d.innerHTML = '';
        pHand.forEach(c => p.innerHTML += `<div class="card">${c.v}${c.s}</div>`);
        dHand.forEach((c, i) => d.innerHTML += `<div class="card" style="${!all && i===1 ? 'background:#222':''}">${!all && i===1 ? '?':c.v+c.s}</div>`);
        document.getElementById('p-val').innerText = getVal(pHand);
    }

    function getVal(h) {
        let s = 0, a = 0;
        h.forEach(c => { if(['J','Q','K'].includes(c.v)) s += 10; else if(c.v === 'A') { s += 11; a++; } else s += parseInt(c.v); });
        while(s > 21 && a > 0) { s -= 10; a--; }
        return s;
    }

    async function bjPlay(act) {
        if(!playing) return;
        if(act === 'hit') {
            pHand.push(deck.pop());
            sounds.card.play();
            renderBJ(false);
            if(getVal(pHand) > 21) bjEnd(false, "BUST!");
        } else {
            renderBJ(true);
            while(getVal(dHand) < 17) {
                await new Promise(r => setTimeout(r, 600));
                dHand.push(deck.pop());
                renderBJ(true);
            }
            let ps = getVal(pHand), ds = getVal(dHand);
            if(ds > 21 || ps > ds) bjEnd(true, "V√ùHRA!");
            else if(ps < ds) bjEnd(false, "PROHRA");
            else bjEnd('draw', "REMIZA");
        }
    }

    function bjEnd(res, m) {
        playing = false;
        if(res === true) chips += curBet * 2;
        if(res === 'draw') chips += curBet;
        save();
        log(m, res === true);
        document.getElementById('bj-start').disabled = false;
    }

    // --- INITIALIZE ---
    save();
</script>
</body>
</html>
