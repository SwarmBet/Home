<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>SwarmBet - Gaming Portal</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #1a1a1a; color: white; text-align: center; }
        .container { max-width: 600px; margin: auto; }
        .game-box { background: #2a2a2a; border: 2px solid #444; padding: 20px; border-radius: 15px; margin-top: 20px; }
        .mine-grid { display: grid; grid-template-columns: repeat(5, 50px); gap: 10px; justify-content: center; margin-top: 20px; }
        .cell { width: 50px; height: 50px; background: #444; display: flex; align-items: center; justify-content: center; cursor: pointer; border-radius: 5px; font-size: 20px; }
        .cell.revealed { background: #555; cursor: default; }
        input { padding: 8px; border-radius: 5px; border: none; width: 60px; margin-right: 10px; }
        button { padding: 10px 20px; border-radius: 8px; border: none; background: #ffcc00; color: black; font-weight: bold; cursor: pointer; }
        button:disabled { background: #666; cursor: not-allowed; }
        h1 { color: #ffcc00; letter-spacing: 2px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>游냏 SwarmBet</h1>
        
        <div class="game-box">
            <h2>游눢 Miny (5x5)</h2>
            <p>Maxim치ln캩 24 min!</p>
            <input type="number" id="mine-count" value="3" min="1" max="24">
            <button id="mine-start-btn" onclick="startMines()">Hr치t</button>
            <button id="mine-cashout-btn" onclick="cashOutMines()" disabled>Vybrat v칳hru</button>
            
            <div class="mine-grid" id="mine-grid">
                </div>
        </div>
    </div>

    <script>
        let minesLocations = [];
        let isMinesPlaying = false;
        const GRID_SIZE = 25; // 5x5

        function startMines() {
            let input = document.getElementById('mine-count');
            let count = parseInt(input.value);

            // FIX: Validace proti lagu a nesmysl콢m
            if (isNaN(count) || count < 1) count = 1;
            if (count >= GRID_SIZE) count = GRID_SIZE - 1; // Mus칤 z콢stat aspo켿 1 diamant
            input.value = count; 

            // Reset hry
            minesLocations = [];
            isMinesPlaying = true;
            document.getElementById('mine-grid').innerHTML = '';
            document.getElementById('mine-start-btn').disabled = true;
            document.getElementById('mine-cashout-btn').disabled = false;

            // N치hodn칠 rozm칤st캩n칤 min (bezpe캜n치 logika)
            while(minesLocations.length < count) {
                let r = Math.floor(Math.random() * GRID_SIZE);
                if(minesLocations.indexOf(r) === -1) minesLocations.push(r);
            }

            // Vytvo콏en칤 pol칤캜ek
            for (let i = 0; i < GRID_SIZE; i++) {
                let cell = document.createElement('div');
                cell.className = 'cell';
                cell.id = 'cell-' + i;
                cell.innerText = '?';
                cell.onclick = () => clickCell(i);
                document.getElementById('mine-grid').appendChild(cell);
            }
            console.log("Hra SwarmBet Miny za캜ala s " + count + " minami.");
        }

        function clickCell(index) {
            if (!isMinesPlaying) return;
            let cell = document.getElementById('cell-' + index);
            if (cell.classList.contains('revealed')) return;

            cell.classList.add('revealed');

            if (minesLocations.includes(index)) {
                cell.innerText = '游눤';
                cell.style.background = 'red';
                gameOver(false);
            } else {
                cell.innerText = '游눑';
                cell.style.background = '#28a745';
                // Tady by se mohla p콏i캜칤tat n치sobiteln치 v칳hra
            }
        }

        function cashOutMines() {
            if (!isMinesPlaying) return;
            alert("游눯 V칳hra vybr치na na SwarmBet!");
            gameOver(true);
        }

        function gameOver(win) {
            isMinesPlaying = false;
            document.getElementById('mine-start-btn').disabled = false;
            document.getElementById('mine-cashout-btn').disabled = true;
            
            // Uk치zat, kde byly ostatn칤 miny
            minesLocations.forEach(loc => {
                let c = document.getElementById('cell-' + loc);
                if (c.innerText !== '游눤') c.innerText = '游눢';
            });

            if(!win) alert("BUM! P콏칤코t캩 to na SwarmBet vyjde.");
        }
    </script>
</body>
</html>
