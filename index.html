<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Gold Casino</title>
    <style>
        :root {
            --gold: #ffcc00;
            --dark-gold: #b8860b;
            --felt: #1a472a;
            --card-white: #ffffff;
            --bg: #0f0f0f;
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg);
            color: white;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .casino-wrapper {
            width: 100%;
            max-width: 1000px;
            background: radial-gradient(circle at center, var(--felt) 0%, #0a2414 100%);
            margin: 20px;
            border-radius: 40px;
            border: 12px solid #3d2b1f;
            box-shadow: 0 20px 50px rgba(0,0,0,0.9);
            padding: 30px;
            position: relative;
        }

        /* HUD - Horn√≠ panel */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid rgba(255,204,0,0.2);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .chip-display {
            background: rgba(0,0,0,0.5);
            padding: 10px 25px;
            border-radius: 50px;
            border: 2px solid var(--gold);
            font-size: 24px;
            font-weight: bold;
            color: var(--gold);
            box-shadow: 0 0 15px rgba(255,204,0,0.3);
        }

        /* Zpr√°vy */
        #message-box {
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            min-height: 30px;
            font-size: 1.2em;
            color: var(--gold);
            border-left: 5px solid var(--gold);
        }

        /* Tlaƒç√≠tka */
        .btn-group { margin: 15px 0; }
        
        button {
            background: linear-gradient(to bottom, #444, #222);
            color: white;
            border: 1px solid #555;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.2s;
            margin: 5px;
        }

        button.primary {
            background: linear-gradient(to bottom, var(--gold), var(--dark-gold));
            color: black;
            border: none;
            box-shadow: 0 4px 0 #8b6508;
        }

        button.primary:hover { transform: translateY(-2px); box-shadow: 0 6px 0 #8b6508; }
        button.primary:active { transform: translateY(2px); box-shadow: 0 0 0 black; }
        button:disabled { opacity: 0.3; cursor: not-allowed; transform: none !important; }

        /* Hrac√≠ plocha */
        .game-area { display: none; animation: fadeIn 0.5s; }
        .active { display: block; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Blackjack Styl */
        .bj-table { display: flex; justify-content: space-around; margin-top: 30px; }
        .hand-label { font-size: 1.2em; color: rgba(255,255,255,0.6); margin-bottom: 10px; }
        .cards { display: flex; gap: 10px; justify-content: center; min-height: 120px; }

        .card {
            width: 80px; height: 120px;
            background: white;
            border-radius: 10px;
            color: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
            animation: cardDeal 0.4s ease-out;
            position: relative;
        }

        .card.red { color: #e74c3c; }
        .card::before { content: attr(data-value); position: absolute; top: 5px; left: 5px; font-size: 14px; }

        @keyframes cardDeal {
            from { transform: translateY(-200px) rotate(20deg); opacity: 0; }
            to { transform: translateY(0) rotate(0); opacity: 1; }
        }

        /* Ruleta Styl */
        .roulette-view {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .wheel-container {
            position: relative;
            width: 320px; height: 320px;
            border: 15px solid #3d2b1f;
            border-radius: 50%;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
        }

        .wheel-img {
            width: 100%; height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                #27ae60 0deg 9.7deg, #c0392b 9.7deg 19.4deg, #2c3e50 19.4deg 29.1deg, #c0392b 29.1deg 38.8deg,
                #2c3e50 38.8deg 48.5deg, #c0392b 48.5deg 58.2deg, #2c3e50 58.2deg 67.9deg, #c0392b 67.9deg 77.6deg,
                #2c3e50 77.6deg 87.3deg, #c0392b 87.3deg 97deg, #2c3e50 97deg 106.7deg, #c0392b 106.7deg 116.4deg,
                #2c3e50 116.4deg 126.1deg, #c0392b 126.1deg 135.8deg, #2c3e50 135.8deg 145.5deg, #c0392b 145.5deg 155.2deg,
                #2c3e50 155.2deg 164.9deg, #c0392b 164.9deg 174.6deg, #2c3e50 174.6deg 184.3deg, #c0392b 184.3deg 194deg,
                #2c3e50 194deg 203.7deg, #c0392b 203.7deg 213.4deg, #2c3e50 213.4deg 223.1deg, #c0392b 223.1deg 232.8deg,
                #2c3e50 232.8deg 242.5deg, #c0392b 242.5deg 252.2deg, #2c3e50 252.2deg 261.9deg, #c0392b 261.9deg 271.6deg,
                #2c3e50 271.6deg 281.3deg, #c0392b 281.3deg 291deg, #2c3e50 291deg 300.7deg, #c0392b 300.7deg 310.4deg,
                #2c3e50 310.4deg 320.1deg, #c0392b 320.1deg 329.8deg, #2c3e50 329.8deg 339.5deg, #c0392b 339.5deg 349.2deg,
                #2c3e50 349.2deg 360deg
            );
            transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1);
        }

        .pointer {
            position: absolute; top: -20px; left: 50%; transform: translateX(-50%);
            width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent;
            border-top: 30px solid var(--gold); z-index: 10;
        }

        input[type="number"] {
            background: #000; color: var(--gold); border: 1px solid var(--gold);
            padding: 10px; border-radius: 5px; width: 80px; font-size: 16px;
        }

        .bet-card {
            background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>

<div class="casino-wrapper">
    <header>
        <h1 style="margin:0; color: var(--gold);">GOLDEN CASINO</h1>
        <div class="chip-display">üí∞ <span id="chips">1000</span></div>
    </header>

    <div id="message-box">Zvolte si hru a vsaƒète ≈æetony.</div>

    <div class="btn-group">
        <button onclick="switchGame('bj')">Blackjack</button>
        <button onclick="switchGame('roulette')">Ruleta</button>
    </div>

    <div id="game-bj" class="game-area active">
        <div class="bet-card">
            S√°zka: <input type="number" id="bj-bet" value="50">
            <button class="primary" id="bj-start-btn" onclick="startBJ()">Rozdat karty</button>
        </div>
        
        <div class="bj-table">
            <div>
                <div class="hand-label">DEALER (<span id="d-score">?</span>)</div>
                <div id="d-cards" class="cards"></div>
            </div>
            <div>
                <div class="hand-label">VY (<span id="p-score">0</span>)</div>
                <div id="p-cards" class="cards"></div>
            </div>
        </div>

        <div id="bj-controls" style="display:none; margin-top:20px;">
            <button class="primary" onclick="bjAction('hit')">HIT</button>
            <button onclick="bjAction('stand')">STAND</button>
        </div>
    </div>

    <div id="game-roulette" class="game-area">
        <div class="roulette-view">
            <div class="wheel-container">
                <div class="pointer"></div>
                <div id="wheel" class="wheel-img"></div>
            </div>

            <div style="display: flex; gap: 20px;">
                <div class="bet-card">
                    <h3>Na ƒç√≠slo</h3>
                    ƒå√≠slo: <input type="number" id="r-num" min="0" max="36" value="7"><br><br>
                    S√°zka: <input type="number" id="r-num-bet" value="10"><br><br>
                    <button class="primary" id="r-btn-num" onclick="playRoulette('number')">Vsadit na ƒç√≠slo</button>
                </div>

                <div class="bet-card">
                    <h3>Na barvu</h3>
                    <select id="r-col" style="padding:10px; width:100px;">
                        <option value="red">ƒåerven√°</option>
                        <option value="black">ƒåern√°</option>
                    </select><br><br>
                    S√°zka: <input type="number" id="r-col-bet" value="50"><br><br>
                    <button class="primary" id="r-btn-col" onclick="playRoulette('color')">Vsadit na barvu</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // --- DATA ---
    let bankroll = 1000;
    let isPlaying = false;
    let deck = [], pHand = [], dHand = [], currentBet = 0;
    const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
    const vals = ['2','3','4','5','6','7','8','9','10','J','Q','K','A'];
    const rOrder = [0, 32, 15, 19, 4, 21, 2, 25, 17, 34, 6, 27, 13, 36, 11, 30, 8, 23, 10, 5, 24, 16, 33, 1, 20, 14, 31, 9, 22, 18, 29, 7, 28, 12, 35, 3, 26];

    // --- POMOCN√â ---
    function log(msg) { document.getElementById('message-box').innerText = msg; }
    function updateHUD() { document.getElementById('chips').innerText = bankroll; }
    
    function switchGame(game) {
        if(isPlaying) return;
        document.querySelectorAll('.game-area').forEach(el => el.classList.remove('active'));
        document.getElementById('game-' + game).classList.add('active');
        log("Hra zmƒõnƒõna na " + (game === 'bj' ? "Blackjack" : "Ruletu"));
    }

    // --- BLACKJACK LOGIKA ---
    function startBJ() {
        let bet = parseInt(document.getElementById('bj-bet').value);
        if(bet > bankroll || bet <= 0) return log("Nedostatek ≈æeton≈Ø!");

        isPlaying = true;
        currentBet = bet;
        bankroll -= bet;
        updateHUD();

        // Reset plochy
        document.getElementById('p-cards').innerHTML = '';
        document.getElementById('d-cards').innerHTML = '';
        document.getElementById('bj-start-btn').disabled = true;
        
        // Bal√≠ƒçek a rozd√°n√≠
        deck = [];
        suits.forEach(s => vals.forEach(v => deck.push({v, s})));
        deck.sort(() => Math.random() - 0.5);

        pHand = [deck.pop(), deck.pop()];
        dHand = [deck.pop(), deck.pop()];

        renderBJ();
        document.getElementById('bj-controls').style.display = 'block';
        log("V√°≈° tah...");
    }

    function calcScore(hand) {
        let s = 0, aces = 0;
        hand.forEach(c => {
            if(['J','Q','K'].includes(c.v)) s += 10;
            else if(c.v === 'A') { s += 11; aces++; }
            else s += parseInt(c.v);
        });
        while(s > 21 && aces > 0) { s -= 10; aces--; }
        return s;
    }

    function renderBJ(showAll = false) {
        const pC = document.getElementById('p-cards');
        const dC = document.getElementById('d-cards');
        pC.innerHTML = ''; dC.innerHTML = '';

        pHand.forEach(c => pC.innerHTML += `<div class="card ${['‚ô•','‚ô¶'].includes(c.s)?'red':''}" data-value="${c.v}">${c.s}</div>`);
        dHand.forEach((c, i) => {
            if(i === 1 && !showAll) dC.innerHTML += `<div class="card" style="background: #222; color: #222">?</div>`;
            else dC.innerHTML += `<div class="card ${['‚ô•','‚ô¶'].includes(c.s)?'red':''}" data-value="${c.v}">${c.s}</div>`;
        });

        document.getElementById('p-score').innerText = calcScore(pHand);
        document.getElementById('d-score').innerText = showAll ? calcScore(dHand) : "?";
    }

    async function bjAction(act) {
        if(act === 'hit') {
            pHand.push(deck.pop());
            renderBJ();
            if(calcScore(pHand) > 21) finishBJ('prohra', "P≈òET√ÅHL JSTE!");
        } else {
            // Dealer hraje
            document.getElementById('bj-controls').style.display = 'none';
            renderBJ(true);
            while(calcScore(dHand) < 17) {
                await new Promise(r => setTimeout(r, 600));
                dHand.push(deck.pop());
                renderBJ(true);
            }
            
            let pS = calcScore(pHand), dS = calcScore(dHand);
            if(dS > 21 || pS > dS) finishBJ('vyhra', "VYHR√ÅV√ÅTE!");
            else if(pS < dS) finishBJ('prohra', "DEALER VYHR√ÅL.");
            else finishBJ('remiza', "REMIZA.");
        }
    }

    function finishBJ(res, msg) {
        if(res === 'vyhra') bankroll += currentBet * 2;
        if(res === 'remiza') bankroll += currentBet;
        updateHUD();
        log(msg);
        isPlaying = false;
        document.getElementById('bj-start-btn').disabled = false;
        document.getElementById('bj-controls').style.display = 'none';
    }

    // --- RULETA LOGIKA ---
    let currentRot = 0;
    function playRoulette(type) {
        if(isPlaying) return;
        let bet = parseInt(document.getElementById(type === 'number' ? 'r-num-bet' : 'r-col-bet').value);
        if(bet > bankroll || bet <= 0) return log("Nedostatek ≈æeton≈Ø!");

        isPlaying = true;
        bankroll -= bet;
        updateHUD();
        log("S√°zky uzav≈ôeny, toƒç√≠me!");

        const winNum = Math.floor(Math.random() * 37);
        const winIdx = rOrder.indexOf(winNum);
        const degPerSec = 360 / 37;
        
        // Animace
        const extraSpins = 5 * 360;
        const targetDeg = 360 - (winIdx * degPerSec);
        currentRot += extraSpins + (targetDeg - (currentRot % 360));
        
        document.getElementById('wheel').style.transform = `rotate(${currentRot}deg)`;

        setTimeout(() => {
            isPlaying = false;
            const color = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36].includes(winNum) ? 'red' : (winNum === 0 ? 'green' : 'black');
            
            let win = false;
            if(type === 'number' && parseInt(document.getElementById('r-num').value) === winNum) {
                win = true; bankroll += bet * 36;
            } else if(type === 'color' && document.getElementById('r-col').value === color) {
                win = true; bankroll += bet * 2;
            }

            log(`Padla ${winNum} (${color}). ${win ? 'V√ùHRA!' : 'Zkuste to znovu.'}`);
            updateHUD();
        }, 5000);
    }
</script>

</body>
</html>
