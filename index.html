<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SwarmBet - Professional Edition</title>
    <style>
        :root { --bg: #1a1d29; --card-bg: #212536; --accent: #2f354c; --green: #59ac21; --blue: #0084ff; --orange: #ff9900; --red: #e74c3c; --text: #f5f6f7; --text-dim: #9299b8; }
        body { background-color: var(--bg); color: var(--text); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        
        /* Navbar */
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 40px; background: #141722; border-bottom: 1px solid #2d3244; position: sticky; top: 0; z-index: 100; }
        .user-name { font-weight: bold; color: var(--orange); }
        .chips-display { color: #ffcc00; font-weight: bold; background: rgba(255, 204, 0, 0.1); padding: 5px 12px; border-radius: 20px; border: 1px solid rgba(255, 204, 0, 0.2); }

        /* Container & Layout */
        .container { max-width: 1200px; margin: 40px auto; width: 95%; flex: 1; }
        .hidden { display: none !important; }
        .game-layout { display: grid; grid-template-columns: 300px 1fr; gap: 2px; background: #2d3244; border-radius: 8px; overflow: hidden; border: 1px solid #2d3244; }
        
        /* Sidebar Controls */
        .sidebar { background: #1a1d29; padding: 20px; display: flex; flex-direction: column; gap: 20px; }
        .main-content { background: #0f121b; padding: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        
        /* Input Styles */
        .input-box { background: var(--accent); border-radius: 4px; padding: 10px; display: flex; flex-direction: column; gap: 5px; }
        .input-box label { font-size: 11px; font-weight: bold; color: var(--text-dim); text-transform: uppercase; }
        .input-box input, .input-box select { background: transparent; border: none; color: white; font-weight: bold; outline: none; width: 100%; }
        .tab-group { display: flex; background: #141722; border-radius: 4px; padding: 4px; }
        .tab { flex: 1; text-align: center; padding: 8px; font-size: 12px; font-weight: bold; cursor: pointer; border-radius: 3px; color: var(--text-dim); }
        .tab.active { background: var(--blue); color: white; }

        /* Buttons */
        .btn-main { background: var(--green); color: white; border: none; padding: 15px; border-radius: 4px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.2s; }
        .btn-main:hover { filter: brightness(1.1); }
        .btn-main:disabled { background: #3c445c; color: #7a8299; cursor: not-allowed; }

        /* MINES DESIGN (Image 1) */
        .mines-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; width: 100%; max-width: 500px; }
        .mines-tile { aspect-ratio: 1/1; background: #2f354c; border-radius: 6px; cursor: pointer; transition: 0.2s; display: flex; align-items: center; justify-content: center; font-size: 30px; }
        .mines-tile:hover:not(.revealed) { background: #3d4461; transform: translateY(-2px); }
        .mines-tile.revealed { cursor: default; background: #0f121b; border: 2px solid #2f354c; }
        .mines-tile.win { background: rgba(89, 172, 33, 0.2); border-color: var(--green); color: var(--green); }
        .mines-tile.loss { background: rgba(231, 76, 60, 0.2); border-color: var(--red); color: var(--red); }

        /* TOWER DESIGN (Image 2) */
        .tower-container { display: flex; flex-direction: column-reverse; gap: 10px; width: 100%; max-width: 400px; padding: 20px; background: url('https://i.imgur.com/rN9kSjS.png') no-repeat center; background-size: contain; }
        .tower-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; opacity: 0.4; pointer-events: none; }
        .tower-row.active { opacity: 1; pointer-events: all; }
        .tower-tile { background: rgba(47, 53, 76, 0.8); height: 50px; border-radius: 4px; cursor: pointer; display: flex; align-items: center; justify-content: center; border: 1px solid #414966; }
        .tower-tile.win { background: var(--green); border-color: #8ef542; }

        /* DICE DESIGN (Image 3) */
        .dice-slider-container { width: 100%; max-width: 600px; position: relative; margin-top: 50px; }
        #dice-range { -webkit-appearance: none; width: 100%; height: 12px; border-radius: 10px; background: linear-gradient(to right, var(--red) 50%, var(--green) 50%); outline: none; }
        #dice-range::-webkit-slider-thumb { -webkit-appearance: none; width: 30px; height: 30px; background: white; border-radius: 4px; cursor: pointer; border: 4px solid var(--accent); box-shadow: 0 0 10px rgba(0,0,0,0.5); }
        .dice-stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; margin-top: 30px; }

        /* Win Overlay */
        .win-announcement { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999; text-align: center; pointer-events: none; animation: winPop 3s forwards; }
        @keyframes winPop { 0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; } 20% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); } 100% { opacity: 0; transform: translate(-50%, -60%); } }

        /* Original Roulette/Crash/Limbo styles... (Zkr√°ceno pro p≈ôehlednost) */
        .game-card { background: #212536; padding: 20px; border-radius: 8px; text-align: center; cursor: pointer; transition: 0.3s; }
        .game-card:hover { transform: translateY(-5px); background: #2d3244; }
    </style>
</head>
<body onclick="initAudio()">

<nav class="navbar">
    <div style="font-size:24px; font-weight:900; color:var(--text); letter-spacing: 2px;">SWARM<span style="color:var(--orange)">BET</span></div>
    <div class="user-info" id="user-info-nav" style="display:flex; align-items:center; gap:20px;">
        <span class="user-name" id="display-name">Guest</span>
        <span class="chips-display">‚≠ê <span id="display-chips">0</span></span>
    </div>
</nav>

<div class="container">
    <div id="selection-menu">
        <h2 style="margin-bottom:20px; color:var(--text-dim)">PREMIUM GAMES</h2>
        <div style="display:grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap:20px;">
            <div class="game-card" onclick="selectGame('mines')">üí£<br>Mines</div>
            <div class="game-card" onclick="selectGame('tower')">üè∞<br>Tower</div>
            <div class="game-card" onclick="selectGame('dice')">üé≤<br>Dice</div>
            <div class="game-card" onclick="selectGame('crash')">üöÄ<br>Crash</div>
            <div class="game-card" onclick="selectGame('roulette')">üîò<br>Roulette</div>
            <div class="game-card" onclick="selectGame('limbo')">üõ∏<br>Limbo</div>
        </div>
    </div>

    <div id="game-active-page" class="hidden">
        <div class="game-layout">
            <div class="sidebar">
                <div class="tab-group"><div class="tab active">Manual</div><div class="tab">Auto</div></div>
                
                <div class="input-box">
                    <label>Bet Amount</label>
                    <div style="display:flex; align-items:center;">
                        <span style="color:var(--text-dim); margin-right:5px;">$</span>
                        <input type="number" id="global-bet" value="10.00">
                    </div>
                </div>

                <div id="side-mines" class="hidden">
                    <div class="input-box">
                        <label>Mines</label>
                        <select id="m-count"><option value="1">1</option><option value="3" selected>3</option><option value="5">5</option><option value="13">13</option><option value="24">24</option></select>
                    </div>
                </div>

                <div id="side-tower" class="hidden">
                    <div class="input-box">
                        <label>Risk</label>
                        <select id="t-risk"><option value="easy">Easy (3üíé/1üí£)</option><option value="med">Medium (2üíé/1üí£)</option><option value="hard">Hard (1üíé/2üí£)</option></select>
                    </div>
                </div>

                <button class="btn-main" id="btn-play-action" onclick="handleMainAction()">Bet</button>
                <button class="btn-main hidden" id="btn-cashout-action" style="background:#4a5474" onclick="handleCashout()">Cashout</button>
            </div>

            <div class="main-content">
                <div id="game-mines" class="hidden"><div class="mines-grid" id="m-board"></div></div>
                
                <div id="game-tower" class="hidden"><div class="tower-container" id="t-board"></div></div>
                
                <div id="game-dice" class="hidden">
                    <div style="font-size:60px; font-weight:900; margin-bottom:20px;" id="d-result">50.50</div>
                    <div class="dice-slider-container">
                        <input type="range" id="dice-range" min="2" max="98" value="50" oninput="updateDiceStats()">
                    </div>
                    <div class="dice-stats">
                        <div class="input-box"><label>Multiplier</label><div id="d-mult">2.00x</div></div>
                        <div class="input-box"><label>Roll Over</label><div id="d-target">50.00</div></div>
                        <div class="input-box"><label>Win Chance</label><div id="d-chance">49.50%</div></div>
                    </div>
                </div>

                <div id="game-crash" class="hidden">üöÄ Crash Logic...</div>
                <div id="game-roulette" class="hidden">üîò Roulette Logic...</div>
                <div id="game-limbo" class="hidden">üõ∏ Limbo Logic...</div>
            </div>
        </div>
    </div>
</div>

<script>
    let userData = { chips: 5000 };
    let activeGame = '';
    let isPlaying = false;

    function selectGame(g) {
        activeGame = g;
        document.getElementById('selection-menu').classList.add('hidden');
        document.getElementById('game-active-page').classList.remove('hidden');
        
        // Reset sidebars
        ['side-mines', 'side-tower'].forEach(s => document.getElementById(s)?.classList.add('hidden'));
        document.getElementById('side-' + g)?.classList.remove('hidden');

        // Reset game screens
        ['mines','tower','dice','crash','roulette','limbo'].forEach(gs => document.getElementById('game-' + gs).classList.add('hidden'));
        document.getElementById('game-' + g).classList.remove('hidden');
        
        if(g === 'mines') initMines();
        if(g === 'tower') initTower();
        if(g === 'dice') updateDiceStats();
    }

    // --- UPGRADED MINES ---
    let mBombs = [];
    function initMines() {
        const board = document.getElementById('m-board'); board.innerHTML = '';
        for(let i=0; i<25; i++) {
            let t = document.createElement('div'); t.className = 'mines-tile';
            t.onclick = () => clickMines(i, t);
            board.appendChild(t);
        }
    }

    function handleMainAction() {
        let bet = parseFloat(document.getElementById('global-bet').value);
        if(userData.chips < bet) return alert("Low funds");
        
        isPlaying = true;
        userData.chips -= bet;
        updateUI();

        document.getElementById('btn-play-action').classList.add('hidden');
        document.getElementById('btn-cashout-action').classList.remove('hidden');

        if(activeGame === 'mines') startMines();
        if(activeGame === 'tower') startTower();
        if(activeGame === 'dice') playDice();
    }

    function startMines() {
        let count = parseInt(document.getElementById('m-count').value);
        mBombs = [];
        while(mBombs.length < count) {
            let r = Math.floor(Math.random()*25);
            if(!mBombs.includes(r)) mBombs.push(r);
        }
        initMines();
    }

    function clickMines(i, el) {
        if(!isPlaying) return;
        if(el.classList.contains('revealed')) return;
        
        el.classList.add('revealed');
        if(mBombs.includes(i)) {
            el.innerHTML = 'üí£'; el.classList.add('loss');
            endGame(false);
        } else {
            el.innerHTML = 'üíé'; el.classList.add('win');
            // Mines logic for cashout increment
        }
    }

    // --- UPGRADED TOWER ---
    let tLevel = 0;
    function initTower() {
        const board = document.getElementById('t-board'); board.innerHTML = '';
        for(let r=0; r<8; r++) {
            let row = document.createElement('div'); row.className = 'tower-row';
            row.id = `t-row-${r}`;
            for(let c=0; c<4; c++) {
                let tile = document.createElement('div'); tile.className = 'tower-tile';
                tile.onclick = () => clickTower(r, c, tile);
                row.appendChild(tile);
            }
            board.appendChild(row);
        }
    }

    function startTower() {
        tLevel = 0;
        initTower();
        document.getElementById('t-row-0').classList.add('active');
    }

    function clickTower(r, c, el) {
        if(!isPlaying || r !== tLevel) return;
        let risk = document.getElementById('t-risk').value;
        let win = Math.random() > (risk === 'easy' ? 0.25 : risk === 'med' ? 0.5 : 0.75);
        
        if(win) {
            el.classList.add('win'); el.innerHTML = 'üíé';
            document.getElementById(`t-row-${tLevel}`).classList.remove('active');
            tLevel++;
            if(tLevel < 8) document.getElementById(`t-row-${tLevel}`).classList.add('active');
            else endGame(true);
        } else {
            el.innerHTML = 'üí£';
            endGame(false);
        }
    }

    // --- UPGRADED DICE ---
    function updateDiceStats() {
        let val = document.getElementById('dice-range').value;
        document.getElementById('d-target').innerText = parseFloat(val).toFixed(2);
        let winChance = 100 - val;
        document.getElementById('d-chance').innerText = winChance.toFixed(2) + "%";
        let mult = 99 / winChance;
        document.getElementById('d-mult').innerText = mult.toFixed(4) + "x";
    }

    function playDice() {
        let bet = parseFloat(document.getElementById('global-bet').value);
        let target = parseFloat(document.getElementById('dice-range').value);
        let roll = (Math.random() * 100).toFixed(2);
        document.getElementById('d-result').innerText = roll;
        
        if(roll > target) {
            let mult = 99 / (100 - target);
            userData.chips += bet * mult;
            document.getElementById('d-result').style.color = 'var(--green)';
        } else {
            document.getElementById('d-result').style.color = 'var(--red)';
        }
        endGame(true); // Auto end for dice
    }

    function endGame(win) {
        isPlaying = false;
        document.getElementById('btn-play-action').classList.remove('hidden');
        document.getElementById('btn-cashout-action').classList.add('hidden');
        updateUI();
    }

    function updateUI() {
        document.getElementById('display-chips').innerText = Math.floor(userData.chips);
    }
    
    function initAudio() {} 
</script>
</body>
</html>
